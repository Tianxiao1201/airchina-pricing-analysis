# 航班定价数据结构设计

## 数据表设计

为了支持航班定价决策，我设计了以下数据结构，包含关键字段及其说明：

| 字段名 | 数据类型 | 说明 | 用途 |
|--------|----------|------|------|
| flight_id | 字符串 | 航班唯一标识符 | 主键，用于唯一标识每个航班 |
| flight_number | 字符串 | 航班号 | 如CA1123，用于识别航班 |
| departure_city | 字符串 | 出发城市 | 航线起点 |
| arrival_city | 字符串 | 到达城市 | 航线终点 |
| route_name | 字符串 | 航线名称 | 如"北京-通辽线" |
| flight_date | 日期 | 航班日期 | 航班执行日期 |
| day_of_week | 整数 | 星期几 | 1-7表示周一至周日 |
| is_holiday | 布尔值 | 是否为节假日 | True/False |
| aircraft_type | 字符串 | 机型 | 如738, ARJ等 |
| seat_capacity | 整数 | 座位布局数 | 飞机可提供的座位数 |
| booked_seats | 整数 | 订座人数 | 已预订的座位数 |
| load_factor | 浮点数 | 客座率 | 订座人数/座位布局数 |
| flight_hours | 浮点数 | 飞行小时 | 航班飞行时间 |
| variable_cost | 浮点数 | 变动成本 | 航班运营的变动成本(万元) |
| fixed_cost | 浮点数 | 固定成本 | 航班运营的固定成本(万元) |
| maintenance_cost | 浮点数 | 机务相关成本 | 航班维护成本(万元) |
| total_cost | 浮点数 | 总成本 | 所有成本之和(万元) |
| passenger_revenue | 浮点数 | 客运收入 | 不含补贴的收入(万元) |
| subsidy_revenue | 浮点数 | 补贴收入 | 政府补贴(万元) |
| total_revenue | 浮点数 | 总收入 | 客运收入+补贴收入(万元) |
| marginal_contribution | 浮点数 | 边际贡献 | 总收入-变动成本(万元) |
| marginal_contribution_rate | 浮点数 | 边际贡献率 | 边际贡献/总收入 |
| profit | 浮点数 | 利润 | 总收入-总成本(万元) |
| profit_rate | 浮点数 | 利润率 | 利润/总收入 |
| avg_ticket_price | 浮点数 | 平均票价 | 客运收入/旅客人数(元) |
| discount_rate | 浮点数 | 平均折扣 | 实际票价/全价票价的比例 |
| rask | 浮点数 | 单位可用座公里收入 | 收入/可用座公里(元) |
| ask | 浮点数 | 可用座公里 | 座位数×飞行距离(万) |
| competitor_load_factor | 浮点数 | 竞争对手客座率 | 主要竞争对手的平均客座率 |
| competitor_price | 浮点数 | 竞争对手价格 | 主要竞争对手的平均票价(元) |
| historical_load_factor | 浮点数 | 历史客座率 | 过去30天同航线平均客座率 |
| seasonal_index | 浮点数 | 季节性指数 | 反映季节对需求的影响(1为基准) |
| price_elasticity | 浮点数 | 价格弹性 | 需求对价格变化的敏感度 |
| optimal_price | 浮点数 | 建议最优票价 | 基于各因素计算的最优票价(元) |
| price_lower_bound | 浮点数 | 票价下限 | 最低可接受票价(元) |
| price_upper_bound | 浮点数 | 票价上限 | 最高可接受票价(元) |

## 数据来源说明

1. **基础数据**：来自原始Excel文件中的航班号、航线、客座率、成本、收入等信息
2. **补充数据**：
   - 日期和星期信息：根据航班执行日期生成
   - 节假日标记：根据中国法定节假日信息添加
   - 竞争对手数据：基于原始数据中的南航(CZ)和东航(MU)信息
   - 历史数据：基于原始数据中的同环比信息
   - 季节性指数：根据航空业季节性特点估算
   - 价格弹性：根据不同航线的特点估算
   - 最优票价区间：根据成本、竞争和需求因素计算

## 数据应用场景

1. **航班定价决策**：根据成本、需求和竞争情况确定最优票价
2. **收益管理**：通过客座率和票价的动态调整最大化收益
3. **航线规划**：评估航线盈利能力，优化航线网络
4. **成本控制**：识别高成本航线，制定成本控制措施
5. **市场竞争分析**：与竞争对手的表现对比，制定竞争策略
6. **季节性调整**：根据季节性需求变化调整价格和运力

## 数据更新频率建议

- 基础运营数据：每日更新
- 成本数据：每周更新
- 竞争对手数据：每日更新
- 季节性指数：每季度更新
- 价格弹性：每季度更新
- 最优票价：每日计算更新 